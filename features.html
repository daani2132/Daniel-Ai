<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Ù…Ø¯Ø±Ø¨ Ø±ÙŠØ§Ø¶ÙŠ -Daniel AI</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
        /* =========== ØªØ­Ø³ÙŠÙ†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§ØªÙ =========== */
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-size: 16px;
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
        }

        /* ========== Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ù†ÙØ³ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ØªÙ‡ ========== */
        .glass {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid #00be9f;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }
        
        header {
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            min-height: 70px;
            box-sizing: border-box;
        }
        
        /* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ù‡ÙˆØ§ØªÙ - Ø¨Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… */
        .mobile-menu-toggle {
            display: none;
            background: rgba(0, 190, 159, 0.2);
            border: 1px solid rgba(0, 190, 159, 0.4);
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            padding: 12px;
            border-radius: 8px;
            z-index: 1002;
            width: 50px;
            height: 50px;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            margin-left: 10px;
        }
        
        .mobile-menu-toggle:hover {
            background: rgba(0, 190, 159, 0.3);
            transform: scale(1.05);
        }
        
        .mobile-menu-toggle.active i {
            transform: rotate(90deg);
        }
        
        /* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ ÙˆÙ…ÙƒØ¨Ø±Ø© - Ø¨Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… */
        nav {
            flex: 1;
            display: flex;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 8px;
            margin: 0;
            padding: 0;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        nav ul li a {
            color: #fff;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            font-size: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-width: 110px;
            justify-content: center;
            text-align: center;
            white-space: nowrap;
        }
        
        nav ul li a:hover {
            background: rgba(0, 190, 159, 0.3);
            border-color: #00be9f;
            color: #00be9f;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 190, 159, 0.2);
        }
        
        nav ul li a.active {
            background: #00be9f;
            color: white;
            border-color: #00be9f;
            box-shadow: 0 5px 15px rgba(0, 190, 159, 0.3);
        }
        
        /* Ø²Ø± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¨Ø¹ÙŠØ¯ Ø¹Ù† Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
            order: 1;
        }
        
        .music-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.5rem;
            min-width: 44px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 190, 159, 0.2);
            border-radius: 8px;
            padding: 10px;
            border: 1px solid rgba(0, 190, 159, 0.4);
            transition: all 0.3s ease;
        }
        
        .music-btn:hover {
            background: rgba(0, 190, 159, 0.3);
            transform: scale(1.05);
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… - Ø¨Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… */
        .auth-status {
            display: flex;
            align-items: center;
            gap: 15px;
            order: 3;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #00be9f;
            flex-shrink: 0;
        }
        
        .logout-btn {
            background: transparent;
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
            padding: 8px;
            border-radius: 4px;
            min-width: 40px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logout-btn:hover {
            color: #00be9f;
            background: rgba(0, 190, 159, 0.2);
            transform: scale(1.1);
        }
        
        .login-btn {
            background: #00be9f;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 16px;
            border: 1px solid #00be9f;
            min-height: 44px;
            min-width: 120px;
            justify-content: center;
        }
        
        .login-btn:hover {
            background: #00a98c;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 190, 159, 0.3);
        }
        
        /* ========== Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø¯Ø±Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ========== */
        
        .trainer-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 15px;
            width: 100%;
        }
        
        .trainer-header {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            border: 2px solid #00be9f;
        }
        
        .trainer-title {
            color: #00be9f;
            font-size: 1.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .trainer-subtitle {
            color: #ccc;
            font-size: 0.95rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.4;
        }
        
        .camera-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .camera-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            border: 2px solid #00be9f;
        }
        
        .camera-title {
            color: #00be9f;
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .camera-preview {
            width: 100%;
            height: 300px;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            margin-bottom: 15px;
        }
        
        #cameraFeed {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
            transform: scaleX(-1);
        }
        
        #motionCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }
        
        .camera-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.7);
            color: #ccc;
            z-index: 1;
            padding: 20px;
            text-align: center;
        }
        
        .camera-placeholder i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #00be9f;
        }
        
        .camera-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .trainer-btn {
            background: linear-gradient(45deg, #00be9f, #009688);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            font-size: 1rem;
            min-height: 48px;
            min-width: 120px;
            justify-content: center;
        }
        
        .trainer-btn:hover {
            background: linear-gradient(45deg, #00d4b1, #00be9f);
            transform: translateY(-2px);
        }
        
        .trainer-btn.stop {
            background: linear-gradient(45deg, #ff416c, #ff4b2b);
        }
        
        .trainer-btn.secondary {
            background: linear-gradient(45deg, #666, #444);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(0, 190, 159, 0.3);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00be9f;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #ccc;
            font-size: 0.9rem;
        }
        
        .feedback-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border-left: 4px solid #00be9f;
        }
        
        .feedback-title {
            color: #00be9f;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        #feedbackMessage {
            color: white;
            line-height: 1.5;
            min-height: 60px;
        }
        
        .motion-analysis {
            margin-top: 20px;
        }
        
        .motion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .motion-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 6px;
            text-align: center;
        }
        
        .motion-value {
            color: #00ffcc;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .motion-label {
            color: #ccc;
            font-size: 0.85rem;
            margin-top: 5px;
        }
        
        .exercises-section {
            margin-top: 30px;
        }
        
        .section-title {
            color: #00be9f;
            font-size: 1.4rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .exercises-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .exercise-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            min-height: 180px;
        }
        
        .exercise-card:hover {
            border-color: #00be9f;
            transform: translateY(-5px);
        }
        
        .exercise-card.active {
            border-color: #00be9f;
            background: rgba(0, 190, 159, 0.2);
        }
        
        .exercise-icon {
            font-size: 1.8rem;
            color: #00be9f;
            margin-bottom: 10px;
        }
        
        .exercise-title {
            color: white;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .exercise-desc {
            color: #ccc;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù„Ù„ØªÙƒØ±Ø§Ø±Ø§Øª */
        @keyframes repPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .rep-animation {
            animation: repPulse 0.5s ease;
        }
        
        /* Ù…Ø¤Ø´Ø± Ø§Ù„Ø­Ø±ÙƒØ© */
        .motion-indicator {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #333;
            display: inline-block;
            margin-left: 10px;
            vertical-align: middle;
        }
        
        .motion-indicator.active {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }
        
        /* ÙÙˆØªØ± Ø¨Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… */
        footer {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border-top: 2px solid #00be9f;
            margin-top: 40px;
            backdrop-filter: blur(10px);
        }
        
        .copyright {
            color: #fff;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .copyright a {
            color: #00be9f;
            text-decoration: none;
            font-weight: bold;
        }
        
        /* ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
        .alert {
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .alert-success {
            background: rgba(0, 190, 159, 0.2);
            border: 1px solid #00be9f;
            color: #00be9f;
        }
        
        .alert-warning {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid #ffc107;
            color: #ffc107;
        }
        
        /* =========== Media Queries Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„ÙØ© - Ø¨Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… =========== */
        
        /* Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„ÙˆØ­ÙŠØ© */
        @media (max-width: 1024px) {
            header {
                padding: 15px 20px;
                min-height: 65px;
            }
            
            nav ul {
                gap: 6px;
            }
            
            nav ul li a {
                padding: 10px 15px;
                font-size: 14px;
                min-width: 100px;
                gap: 8px;
            }
            
            .header-left {
                gap: 15px;
            }
        }
        
        /* Ù„Ù„Ù‡ÙˆØ§ØªÙ (Ø´Ø§Ø´Ø§Øª ØµØºÙŠØ±Ø©) - Ø¨Ù†ÙØ³ ØªØµÙ…ÙŠÙ… Ø§Ù„Ù‡Ù…Ø¨Ø±Ø¬Ø± */
        @media (max-width: 768px) {
            /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¹Ø§Ù…Ø© */
            body {
                font-size: 15px;
            }
            
            header {
                padding: 10px 15px;
                min-height: 60px;
                flex-wrap: wrap;
                justify-content: space-between;
            }
            
            /* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ù‡ÙˆØ§ØªÙ */
            .mobile-menu-toggle {
                display: flex;
                order: 1;
            }
            
            /* Ø²Ø± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± */
            .header-left {
                order: 2;
                margin-left: auto;
                margin-right: 10px;
            }
            
            /* Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† */
            .auth-status {
                order: 3;
                margin-left: 0;
            }
            
            /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù…Ø®ÙÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ */
            nav {
                display: none;
                position: fixed;
                top: 60px;
                right: 0;
                width: 100%;
                background: rgba(0, 0, 0, 0.95);
                backdrop-filter: blur(20px);
                padding: 20px;
                border-radius: 0 0 15px 15px;
                border-top: 2px solid #00be9f;
                max-height: calc(100vh - 60px);
                overflow-y: auto;
                z-index: 999;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                order: 4;
                width: 100%;
                flex: 0 0 100%;
                margin-top: 10px;
            }
            
            nav.active {
                display: block;
                animation: slideDown 0.3s ease;
            }
            
            @keyframes slideDown {
                from { transform: translateY(-20px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            
            nav ul {
                flex-direction: column;
                gap: 8px;
            }
            
            nav ul li {
                width: 100%;
            }
            
            nav ul li a {
                width: 100%;
                min-width: auto;
                padding: 16px 20px;
                font-size: 16px;
                justify-content: flex-start;
                border-radius: 10px;
                background: rgba(255, 255, 255, 0.08);
            }
            
            nav ul li a i {
                font-size: 18px;
                width: 25px;
                text-align: center;
            }
            
            /* ØªØ­Ø³ÙŠÙ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§ØªÙ */
            .music-btn {
                font-size: 1.3rem;
                min-width: 40px;
                min-height: 40px;
                padding: 8px;
            }
            
            .trainer-container {
                padding: 0 15px;
                margin: 1.5rem auto;
            }
            
            .camera-section {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .camera-preview {
                height: 280px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .exercises-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .exercise-card {
                padding: 15px;
                min-height: 160px;
            }
            
            .motion-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .user-avatar {
                width: 35px;
                height: 35px;
            }
            
            .login-btn {
                padding: 10px 16px;
                font-size: 14px;
                min-width: 100px;
                min-height: 42px;
            }
            
            .logout-btn {
                font-size: 1.1rem;
                padding: 6px;
            }
            
            .trainer-btn {
                min-width: 110px;
                font-size: 0.95rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
        }
        
        /* Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
        @media (max-width: 480px) {
            header {
                padding: 8px 12px;
                min-height: 55px;
            }
            
            .mobile-menu-toggle {
                width: 45px;
                height: 45px;
                font-size: 22px;
                padding: 10px;
            }
            
            nav {
                top: 55px;
                padding: 15px;
            }
            
            nav ul li a {
                padding: 14px 16px;
                font-size: 15px;
            }
            
            .header-left {
                gap: 10px;
            }
            
            .music-btn {
                font-size: 1.2rem;
                min-width: 36px;
                min-height: 36px;
                padding: 6px;
            }
            
            .trainer-container {
                padding: 0 10px;
                margin: 1rem auto;
            }
            
            .trainer-header {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .trainer-title {
                font-size: 1.3rem;
                gap: 8px;
            }
            
            .trainer-subtitle {
                font-size: 0.85rem;
                padding: 0 10px;
            }
            
            .camera-preview {
                height: 250px;
            }
            
            .trainer-btn {
                min-width: 100px;
                padding: 12px 15px;
                font-size: 0.9rem;
            }
            
            .stat-card {
                padding: 12px;
            }
            
            .stat-value {
                font-size: 1.3rem;
            }
            
            .motion-item {
                padding: 10px;
            }
            
            .motion-value {
                font-size: 1rem;
            }
            
            .exercise-card {
                padding: 12px;
                min-height: 140px;
            }
        }
        
        /* Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø°Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø·ÙˆÙŠÙ„Ø© */
        @media (max-height: 700px) and (orientation: landscape) {
            header {
                min-height: 50px;
                padding: 8px 15px;
            }
            
            nav ul li a {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .camera-preview {
                height: 200px;
            }
            
            .exercise-card {
                min-height: 120px;
                padding: 10px;
            }
        }
        
        /* Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø°Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
        @media (min-width: 1600px) {
            header, .trainer-container {
                max-width: 1600px;
            }
            
            .trainer-header {
                padding: 30px;
            }
            
            .camera-preview {
                height: 350px;
            }
        }
        
        /* Ø¯Ø¹Ù… Ø§Ù„Ù„Ù…Ø³ */
        @media (hover: none) and (pointer: coarse) {
            .trainer-btn:hover,
            .login-btn:hover,
            .logout-btn:hover,
            nav ul li a:hover,
            .music-btn:hover {
                transform: none;
            }
            
            .trainer-btn:active,
            .login-btn:active,
            nav ul li a:active,
            .music-btn:active {
                transform: scale(0.98);
                opacity: 0.9;
            }
            
            .trainer-btn, .login-btn, .logout-btn, .music-btn {
                min-height: 48px;
            }
            
            input, textarea, button, select {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
<header class="glass">
    <!-- Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ù‡ÙˆØ§ØªÙ - Ø¨Ù†ÙØ³ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" onclick="toggleMobileMenu()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Ø²Ø± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙÙŠ Ù…ÙƒØ§Ù† Ù…Ù†ÙØµÙ„ Ø¨Ø¹ÙŠØ¯ Ø¹Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div class="header-left">
        <button onclick="openMusicPlayer()" class="music-btn" title="Ù…Ø´ØºÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰">
            <i class="fas fa-music"></i>
        </button>
    </div>

    <nav id="mainNav">
        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ†Ù‚Ù„ - Ø§Ù„Ù‡Ù…Ø¨Ø±Ø¬Ø± Ø³ÙŠØ­Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙ‚Ø· -->
        <ul>
            <li><a href='index.html'><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a class='active' href='features.html'><i class="fas fa-star"></i> Ù…Ø¯Ø±Ø¨ Ø±ÙŠØ§Ø¶ÙŠ</a></li>
            <li><a href='rules.html'><i class="fas fa-gavel"></i> Ø´Ø¯ Ø§Ù„Ø¬ÙˆÙ„Ø§ÙŠÙ†</a></li>
            <li><a href='download.html'><i class="fas fa-download"></i> QR Code</a></li>
            <li><a href='apply.html'><i class="fas fa-user-shield"></i> Ø·Ø¨ÙŠØ¨ Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a></li>
            <li><a href='faq.html'><i class="fas fa-question-circle"></i> Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø®Ø¨Ø±Ø§Ø¡</a></li>
            <li><a href='shop.html'><i class="fas fa-store"></i> Ø§Ù„Ø¹Ø¨Ù‚Ø±ÙŠ Ø§Ù„Ø°ÙƒÙŠ</a></li>
        </ul>
    </nav>

    <div class="auth-status">
        <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
        <span id="userInfo" style="display: none;">
            <div class="user-profile">
                <img id="userAvatar" src="default-avatar.png" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" class="user-avatar" />
                <div class="user-details">
                    <span id="displayName"></span>
                </div>
                <button onclick="logout()" class="logout-btn" title="ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </span>
        
        <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
        <button onclick="redirectToLogin()" id="loginBtn" class="login-btn">
            <i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
        </button>
    </div>
</header>

<main class="trainer-container">
    <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ø§Ù„Ø°ÙƒÙŠ Ù…Ø¹ ÙƒØ´Ù Ø­Ø±ÙƒØ© Ø­Ù‚ÙŠÙ‚ÙŠ -->
    <div class="trainer-header">
        <h1 class="trainer-title">
            <i class="fas fa-dumbbell"></i> Ù…Ø¯Ø±Ø¨ Ø±ÙŠØ§Ø¶ÙŠ Ø¨ÙƒØ´Ù Ø­Ø±ÙƒØ© Ø­Ù‚ÙŠÙ‚ÙŠ
        </h1>
        <p class="trainer-subtitle">
            Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ ÙŠÙƒØ´Ù Ø­Ø±ÙƒØªÙƒ Ø§Ù„ÙØ¹Ù„ÙŠØ© ÙˆÙŠØ­Ø³Ø¨ ØªÙƒØ±Ø§Ø±Ø§ØªÙƒ Ø¨Ø¯Ù‚Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„ÙˆÙŠØ¨
        </p>
    </div>

    <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ -->
    <div class="camera-section">
        <!-- Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ -->
        <div class="camera-box">
            <h3 class="camera-title">
                <i class="fas fa-video"></i> ÙƒØ§Ù…ÙŠØ±Ø§ ÙƒØ´Ù Ø§Ù„Ø­Ø±ÙƒØ©
            </h3>
            <div class="camera-preview">
                <video id="cameraFeed" autoplay playsinline muted></video>
                <canvas id="motionCanvas"></canvas>
                <div class="camera-placeholder" id="cameraPlaceholder">
                    <i class="fas fa-camera"></i>
                    <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§" Ù„Ø¨Ø¯Ø¡ ÙƒØ´Ù Ø§Ù„Ø­Ø±ÙƒØ©</p>
                </div>
            </div>
            <div class="camera-controls">
                <button class="trainer-btn" id="startCamera" onclick="startCamera()">
                    <i class="fas fa-play"></i> ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
                </button>
                <button class="trainer-btn stop" id="stopCamera" onclick="stopCamera()" style="display:none;">
                    <i class="fas fa-stop"></i> Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
                </button>
                <button class="trainer-btn secondary" onclick="resetCounters()" id="resetBtn">
                    <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
                </button>
            </div>
            
            <div class="motion-analysis" id="motionAnalysis" style="display:none;">
                <h4 class="feedback-title">
                    <i class="fas fa-running"></i> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ©
                </h4>
                <div class="motion-grid">
                    <div class="motion-item">
                        <div class="motion-value" id="motionLevel">0%</div>
                        <div class="motion-label">Ø´Ø¯Ø© Ø§Ù„Ø­Ø±ÙƒØ©</div>
                    </div>
                    <div class="motion-item">
                        <div class="motion-value" id="motionSpeed">0</div>
                        <div class="motion-label">Ø³Ø±Ø¹Ø© (px/frame)</div>
                    </div>
                    <div class="motion-item">
                        <div class="motion-value" id="motionArea">0%</div>
                        <div class="motion-label">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø­Ø±ÙƒØ©</div>
                    </div>
                </div>
                
                <div style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px;">
                    <div style="color: #ccc; margin-bottom: 5px;">
                        <span class="motion-indicator" id="motionIndicator"></span>
                        Ø­Ø§Ù„Ø© Ø§Ù„ÙƒØ´Ù: <span id="motionStatus" style="color: #00be9f;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
                    </div>
                    <div id="motionDetails" style="font-size: 0.85rem; color: #aaa;">
                        ÙŠÙƒØªØ´Ù Ø§Ù„Ù†Ø¸Ø§Ù… Ø£ÙŠ Ø­Ø±ÙƒØ© ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø±Ø¤ÙŠØ©
                    </div>
                </div>
            </div>
        </div>

        <!-- Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="camera-box">
            <h3 class="camera-title">
                <i class="fas fa-chart-bar"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
            </h3>
            
            <div class="alert alert-success" id="exerciseAlert" style="display:none;">
                <i class="fas fa-bell"></i> <span id="alertMessage"></span>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="repsCount">0</div>
                    <div class="stat-label">Ø¹Ø¯Ø¯ Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="accuracyScore">0%</div>
                    <div class="stat-label">Ø¯Ù‚Ø© Ø§Ù„Ø­Ø±ÙƒØ©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="sessionTime">00:00</div>
                    <div class="stat-label">Ù…Ø¯Ø© Ø§Ù„Ø¬Ù„Ø³Ø©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="caloriesBurned">0</div>
                    <div class="stat-label">Ø³Ø¹Ø±Ø§Øª Ø­Ø±Ø§Ø±ÙŠØ©</div>
                </div>
            </div>

            <div class="feedback-box">
                <h4 class="feedback-title">
                    <i class="fas fa-comment-alt"></i> ØªÙˆØ¬ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø¨
                </h4>
                <div id="feedbackMessage">
                    ğŸ‘‹ Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ø­Ø±ÙƒØ© Ø£Ù…Ø§Ù…Ù‡Ø§
                </div>
                
                <div style="margin-top: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <div style="width: 20px; height: 20px; border-radius: 50%; background: #00be9f;"></div>
                        <span style="color: #ccc; font-size: 0.9rem;">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù†Ø´Ø§Ø·: </span>
                        <div id="activityBar" style="flex: 1; height: 10px; background: #333; border-radius: 5px; overflow: hidden;">
                            <div id="activityFill" style="height: 100%; width: 0%; background: linear-gradient(90deg, #00be9f, #00ffcc); transition: width 0.5s;"></div>
                        </div>
                    </div>
                    
                    <div id="repProgress" style="display:none;">
                        <div style="color: #ccc; margin-bottom: 5px;">Ø§Ù„ØªÙ‚Ø¯Ù… Ù†Ø­Ùˆ Ø§Ù„Ù‡Ø¯Ù: <span id="progressText">0%</span></div>
                        <div style="height: 8px; background: #333; border-radius: 4px; overflow: hidden;">
                            <div id="progressFill" style="height: 100%; width: 0%; background: linear-gradient(90deg, #ff416c, #ff4b2b); transition: width 0.5s;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
    <div class="camera-box" style="margin-top: 20px;">
        <h3 class="camera-title">
            <i class="fas fa-graduation-cap"></i> ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…
        </h3>
        <div style="color: #ccc; line-height: 1.6;">
            <p>âœ… <strong>ÙƒÙŠÙ ÙŠØ¹Ù…Ù„:</strong></p>
            <ul style="margin-right: 20px;">
                <li>1. Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ØªÙƒØ´Ù Ø£ÙŠ Ø­Ø±ÙƒØ© ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø±Ø¤ÙŠØ©</li>
                <li>2. ÙƒÙ„ Ø­Ø±ÙƒØ© ÙƒØ¨ÙŠØ±Ø© ØªØ­Ø³Ø¨ ÙƒØªÙƒØ±Ø§Ø± ÙˆØ§Ø­Ø¯</li>
                <li>3. Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙ…ÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„ØµØºÙŠØ±Ø© ÙˆØ§Ù„ÙƒØ¨ÙŠØ±Ø©</li>
                <li>4. ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ù‚Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù†ØªØ¸Ø§Ù… Ø§Ù„Ø­Ø±ÙƒØ©</li>
                <li>5. Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© ØªØ­Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</li>
            </ul>
            <p style="margin-top: 10px;">ğŸ¯ <strong>Ù†ØµØ§Ø¦Ø­ Ù„Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬:</strong></p>
            <ul style="margin-right: 20px;">
                <li>â€¢ Ù‚Ù Ø¹Ù„Ù‰ Ø¨Ø¹Ø¯ 2-3 Ù…ØªØ± Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</li>
                <li>â€¢ ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¶Ø§Ø¡Ø© Ø¬ÙŠØ¯Ø© ÙÙŠ Ø§Ù„ØºØ±ÙØ©</li>
                <li>â€¢ Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø®Ù„ÙÙŠØ© Ø«Ø§Ø¨ØªØ© Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†</li>
                <li>â€¢ Ù‚Ù… Ø¨Ø­Ø±ÙƒØ§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…ÙƒØªÙ…Ù„Ø©</li>
            </ul>
        </div>
    </div>

    <!-- Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© -->
    <div class="exercises-section" id="exercisesSection">
        <h2 class="section-title">
            <i class="fas fa-dumbbell"></i> Ù…ÙƒØªØ¨Ø© Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
        </h2>
        
        <div class="exercises-grid">
            <!-- ØªÙ…Ø±ÙŠÙ† 1: ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø¶ØºØ· -->
            <div class="exercise-card" onclick="selectExercise('pushups')">
                <div class="exercise-icon">
                    <i class="fas fa-user"></i>
                </div>
                <h3 class="exercise-title">ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø¶ØºØ· (Push-ups)</h3>
                <p class="exercise-desc">
                    <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> Ø§Ù„ØµØ¯Ø±ØŒ Ø§Ù„ÙƒØªÙÙŠÙ†ØŒ Ø§Ù„Ø¹Ø¶Ù„Ø© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø±Ø¤ÙˆØ³<br>
                    <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> Ù…Ø¨ØªØ¯Ø¦ - Ù…ØªÙ‚Ø¯Ù…<br>
                    <strong>Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> 15-30
                </p>
                <div style="background: rgba(0,190,159,0.1); padding: 10px; border-radius: 6px; margin-top: 10px;">
                    <strong style="color: #00be9f;">ÙƒÙŠÙÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡:</strong>
                    <ol style="margin-right: 15px; margin-top: 8px; color: #ccc; font-size: 0.85rem;">
                        <li>Ø§Ø³ØªÙ„Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¨Ø·Ù†Ùƒ Ù…Ø¹ ÙˆØ¶Ø¹ ÙŠØ¯ÙŠÙƒ Ø¨Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¯Ø±</li>
                        <li>Ø§Ø¯ÙØ¹ Ø¬Ø³Ù…Ùƒ Ù„Ø£Ø¹Ù„Ù‰ Ø­ØªÙ‰ ØªÙ…Ø¯ Ø°Ø±Ø§Ø¹ÙŠÙƒ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</li>
                        <li>Ø§Ø®ÙØ¶ Ø¬Ø³Ù…Ùƒ Ø­ØªÙ‰ ÙŠÙ‚ØªØ±Ø¨ ØµØ¯Ø±Ùƒ Ù…Ù† Ø§Ù„Ø£Ø±Ø¶</li>
                        <li>Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ø³ØªÙ‚Ø§Ù…Ø© Ø¬Ø³Ù…Ùƒ Ø®Ù„Ø§Ù„ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</li>
                    </ol>
                </div>
            </div>

            <!-- ØªÙ…Ø±ÙŠÙ† 2: Ø§Ù„Ù‚Ø±ÙØµØ§Ø¡ -->
            <div class="exercise-card" onclick="selectExercise('squats')">
                <div class="exercise-icon">
                    <i class="fas fa-walking"></i>
                </div>
                <h3 class="exercise-title">ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ù‚Ø±ÙØµØ§Ø¡ (Squats)</h3>
                <p class="exercise-desc">
                    <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> Ø§Ù„ÙØ®Ø°ÙŠÙ†ØŒ Ø§Ù„Ø£Ø±Ø¯Ø§ÙØŒ Ø¹Ø¶Ù„Ø§Øª Ø§Ù„Ø¨Ø·Ù†<br>
                    <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> Ù…Ø¨ØªØ¯Ø¦ - Ù…ØªÙ‚Ø¯Ù…<br>
                    <strong>Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> 20-40
                </p>
                <div style="background: rgba(0,190,159,0.1); padding: 10px; border-radius: 6px; margin-top: 10px;">
                    <strong style="color: #00be9f;">ÙƒÙŠÙÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡:</strong>
                    <ol style="margin-right: 15px; margin-top: 8px; color: #ccc; font-size: 0.85rem;">
                        <li>Ù‚Ù ÙˆÙ‚Ø¯Ù…ÙŠÙƒ Ù…ØªØ¨Ø§Ø¹Ø¯ØªÙŠÙ† Ø¨Ø¹Ø±Ø¶ Ø§Ù„ÙƒØªÙÙŠÙ†</li>
                        <li>Ø§Ø®ÙØ¶ Ø¬Ø³Ù…Ùƒ ÙƒÙ…Ø§ Ù„Ùˆ ØªØ¬Ù„Ø³ Ø¹Ù„Ù‰ ÙƒØ±Ø³ÙŠ Ø®ÙŠØ§Ù„ÙŠ</li>
                        <li>Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ø³ØªÙ‚Ø§Ù…Ø© Ø¸Ù‡Ø±Ùƒ ÙˆØµØ¯Ø±Ùƒ Ù„Ù„Ø£Ù…Ø§Ù…</li>
                        <li>Ø§Ù†Ø²Ù„ Ø­ØªÙ‰ ÙŠØµØ¨Ø­ ÙØ®Ø°ÙŠÙƒ Ù…ÙˆØ§Ø²ÙŠÙŠÙ† Ù„Ù„Ø£Ø±Ø¶</li>
                        <li>Ø§Ø±ÙØ¹ Ø¬Ø³Ù…Ùƒ Ù„Ù„ÙˆØ¶Ø¹ÙŠØ© Ø§Ù„Ø¨Ø¯Ø§Ø¦ÙŠØ©</li>
                    </ol>
                </div>
            </div>

            <!-- ØªÙ…Ø±ÙŠÙ† 3: ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø¨Ù„Ø§Ù†Ùƒ -->
            <div class="exercise-card" onclick="selectExercise('plank')">
                <div class="exercise-icon">
                    <i class="fas fa-stopwatch"></i>
                </div>
                <h3 class="exercise-title">ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø¨Ù„Ø§Ù†Ùƒ (Plank)</h3>
                <p class="exercise-desc">
                    <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> Ø¹Ø¶Ù„Ø§Øª Ø§Ù„Ø¨Ø·Ù†ØŒ Ø§Ù„Ø¸Ù‡Ø±ØŒ Ø§Ù„ÙƒØªÙÙŠÙ†<br>
                    <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> Ù…ØªÙˆØ³Ø· - Ù…ØªÙ‚Ø¯Ù…<br>
                    <strong>Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> 30-60 Ø«Ø§Ù†ÙŠØ©
                </p>
                <div style="background: rgba(0,190,159,0.1); padding: 10px; border-radius: 6px; margin-top: 10px;">
                    <strong style="color: #00be9f;">ÙƒÙŠÙÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡:</strong>
                    <ol style="margin-right: 15px; margin-top: 8px; color: #ccc; font-size: 0.85rem;">
                        <li>Ø§Ø³ØªÙ„Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¨Ø·Ù†Ùƒ Ø«Ù… Ø§Ø±ØªÙØ¹ Ø¹Ù„Ù‰ Ø³Ø§Ø¹Ø¯ÙŠÙƒ ÙˆØ£ØµØ§Ø¨Ø¹ Ù‚Ø¯Ù…ÙŠÙƒ</li>
                        <li>Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ø³ØªÙ‚Ø§Ù…Ø© Ø§Ù„Ø¬Ø³Ù… Ù…Ù† Ø§Ù„Ø±Ø£Ø³ Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø¯Ù…ÙŠÙ†</li>
                        <li>Ø§Ø´Ø¯ Ø¹Ø¶Ù„Ø§Øª Ø¨Ø·Ù†Ùƒ ÙˆØ§Ø¨Ù‚ Ø¸Ù‡Ø±Ùƒ Ù…Ø³ØªÙ‚ÙŠÙ…Ø§Ù‹</li>
                        <li>ØªÙ†ÙØ³ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ ÙˆØ§Ø¨Ù‚ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¶Ø¹ÙŠØ©</li>
                    </ol>
                </div>
            </div>

            <!-- ØªÙ…Ø±ÙŠÙ† 4: ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ÙƒØ§Ø±Ø¯ÙŠÙˆ -->
            <div class="exercise-card" onclick="selectExercise('cardio')">
                <div class="exercise-icon">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <h3 class="exercise-title">ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ÙƒØ§Ø±Ø¯ÙŠÙˆ</h3>
                <p class="exercise-desc">
                    <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> Ø§Ù„Ù‚Ù„Ø¨ØŒ Ø§Ù„Ø±Ø¦ØªÙŠÙ†ØŒ Ø§Ù„ØªØ­Ù…Ù„<br>
                    <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> Ù…Ø¨ØªØ¯Ø¦ - Ù…ØªÙ‚Ø¯Ù…<br>
                    <strong>Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> 5-15 Ø¯Ù‚ÙŠÙ‚Ø©
                </p>
                <div style="background: rgba(0,190,159,0.1); padding: 10px; border-radius: 6px; margin-top: 10px;">
                    <strong style="color: #00be9f;">Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©:</strong>
                    <ul style="margin-right: 15px; margin-top: 8px; color: #ccc; font-size: 0.85rem;">
                        <li><strong>Ø§Ù„Ø¬Ø±ÙŠ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù†:</strong> Ø­Ø±ÙƒØ© Ø³Ø±ÙŠØ¹Ø© Ù„Ù„Ù‚Ø¯Ù…ÙŠÙ†</li>
                        <li><strong>Ø§Ù„Ù‚ÙØ²:</strong> Ù‚ÙØ² Ø¨ÙØªØ­ Ø§Ù„Ù‚Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø°Ø±Ø§Ø¹ÙŠÙ†</li>
                        <li><strong>Ø±ÙØ¹ Ø§Ù„Ø±ÙƒØ¨ØªÙŠÙ†:</strong> Ø±ÙØ¹ Ø§Ù„Ø±ÙƒØ¨ØªÙŠÙ† ØªØ¬Ø§Ù‡ Ø§Ù„ØµØ¯Ø±</li>
                        <li><strong>Ø§Ù„Ù‚ÙØ² Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¨Ù„:</strong> Ø­Ø±ÙƒØ© Ø§Ù„Ù‚ÙØ² Ø§Ù„Ù…ØªØªØ§Ù„ÙŠ</li>
                    </ul>
                </div>
            </div>

            <!-- ØªÙ…Ø±ÙŠÙ† 5: ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø¨Ø·Ù† -->
            <div class="exercise-card" onclick="selectExercise('abs')">
                <div class="exercise-icon">
                    <i class="fas fa-user-md"></i>
                </div>
                <h3 class="exercise-title">ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø¨Ø·Ù†</h3>
                <p class="exercise-desc">
                    <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> Ø¹Ø¶Ù„Ø§Øª Ø§Ù„Ø¨Ø·Ù† Ø§Ù„Ø³ØªØ©<br>
                    <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> Ù…Ø¨ØªØ¯Ø¦ - Ù…ØªÙ‚Ø¯Ù…<br>
                    <strong>Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> 15-25
                </p>
                <div style="background: rgba(0,190,159,0.1); padding: 10px; border-radius: 6px; margin-top: 10px;">
                    <strong style="color: #00be9f;">ÙƒÙŠÙÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡:</strong>
                    <ol style="margin-right: 15px; margin-top: 8px; color: #ccc; font-size: 0.85rem;">
                        <li>Ø§Ø³ØªÙ„Ù‚ÙŠ Ø¹Ù„Ù‰ Ø¸Ù‡Ø±Ùƒ Ù…Ø¹ Ø«Ù†ÙŠ Ø§Ù„Ø±ÙƒØ¨ØªÙŠÙ†</li>
                        <li>Ø¶Ø¹ ÙŠØ¯ÙŠÙƒ Ø®Ù„Ù Ø±Ø£Ø³Ùƒ Ø£Ùˆ Ø¹Ù„Ù‰ ØµØ¯Ø±Ùƒ</li>
                        <li>Ø§Ø±ÙØ¹ ØµØ¯Ø±Ùƒ Ù†Ø­Ùˆ Ø±ÙƒØ¨ØªÙŠÙƒ Ù…Ø¹ Ø´Ø¯ Ø§Ù„Ø¨Ø·Ù†</li>
                        <li>Ø§Ø®ÙØ¶ Ø¬Ø³Ù…Ùƒ Ø¨Ø¨Ø·Ø¡ Ù„Ù„ÙˆØ¶Ø¹ÙŠØ© Ø§Ù„Ø¨Ø¯Ø§Ø¦ÙŠØ©</li>
                        <li>ÙƒØ±Ø± Ø§Ù„Ø­Ø±ÙƒØ© Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ ØªÙ†ÙØ³ Ù…Ù†ØªØ¸Ù…</li>
                    </ol>
                </div>
            </div>

            <!-- ØªÙ…Ø±ÙŠÙ† 6: ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙ…Ø¯Ø¯ -->
            <div class="exercise-card" onclick="selectExercise('stretching')">
                <div class="exercise-icon">
                    <i class="fas fa-spa"></i>
                </div>
                <h3 class="exercise-title">ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙ…Ø¯Ø¯ ÙˆØ§Ù„Ø¥Ø­Ù…Ø§Ø¡</h3>
                <p class="exercise-desc">
                    <strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø¶Ù„Ø§ØªØŒ Ø§Ù„Ù…Ø±ÙˆÙ†Ø©<br>
                    <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª<br>
                    <strong>Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</strong> 5-10 Ø¯Ù‚Ø§Ø¦Ù‚
                </p>
                <div style="background: rgba(0,190,159,0.1); padding: 10px; border-radius: 6px; margin-top: 10px;">
                    <strong style="color: #00be9f;">ØªÙ…Ø§Ø±ÙŠÙ† Ø£Ø³Ø§Ø³ÙŠØ©:</strong>
                    <ul style="margin-right: 15px; margin-top: 8px; color: #ccc; font-size: 0.85rem;">
                        <li><strong>ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„Ø°Ø±Ø§Ø¹ÙŠÙ†:</strong> ÙÙˆÙ‚ Ø§Ù„Ø±Ø£Ø³ ÙˆØ¥Ù„Ù‰ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠÙ†</li>
                        <li><strong>ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„Ø±Ù‚Ø¨Ø©:</strong> Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø±Ø£Ø³ Ø¨Ù„Ø·Ù</li>
                        <li><strong>ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø±Ø¬Ù„:</strong> ØªÙ…Ø¯ÙŠØ¯ Ø¹Ø¶Ù„Ø§Øª Ø§Ù„ÙØ®Ø°ÙŠÙ†</li>
                        <li><strong>ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„Ø¸Ù‡Ø±:</strong> Ø§Ù„Ø§Ù†Ø­Ù†Ø§Ø¡ Ø¨Ù„Ø·Ù Ù„Ù„Ø£Ù…Ø§Ù…</li>
                        <li><strong>ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ÙƒØªÙÙŠÙ†:</strong> ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø°Ø±Ø§Ø¹ÙŠÙ†</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</main>

<footer>
    <div class="copyright">
        Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2026 
        <a href="https://www.instagram.com/talel_chebbi4?igsh=YzI5ZmEzbnpua2F5" target="_blank" rel="noopener noreferrer">By Daniel Ai</a>
    </div>
</footer>

<script>
    // ============ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ø¬ÙˆØ§Ù„ ============
    function initializeMobileMenu() {
        const menuToggle = document.getElementById('mobileMenuToggle');
        const mainNav = document.getElementById('mainNav');
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø·
        const navLinks = mainNav.querySelectorAll('a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                mainNav.classList.remove('active');
                menuToggle.classList.remove('active');
            });
        });
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.addEventListener('click', (e) => {
            if (!mainNav.contains(e.target) && !menuToggle.contains(e.target) && window.innerWidth <= 768) {
                mainNav.classList.remove('active');
                menuToggle.classList.remove('active');
            }
        });
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                mainNav.classList.remove('active');
                menuToggle.classList.remove('active');
            }
        });
        
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        highlightCurrentPage();
    }
    
    function toggleMobileMenu() {
        const menuToggle = document.getElementById('mobileMenuToggle');
        const mainNav = document.getElementById('mainNav');
        
        mainNav.classList.toggle('active');
        menuToggle.classList.toggle('active');
    }
    
    // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù
    function highlightCurrentPage() {
        const currentPage = window.location.pathname.split('/').pop();
        const navLinks = document.querySelectorAll('nav ul li a');
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            const linkPage = link.getAttribute('href');
            
            if (linkPage === currentPage || 
                (currentPage === '' && linkPage === 'index.html') ||
                (currentPage === 'features.html' && linkPage === 'features.html')) {
                link.classList.add('active');
            }
        });
    }
    
    function openMusicPlayer() {
        window.open('music-player.html', 'MusicPlayer', 
            'width=450,height=700,left=100,top=100,resizable=yes,scrollbars=yes');
    }

    // ============ Ù†Ø¸Ø§Ù… ÙƒØ´Ù Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ============

    // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
    let cameraStream = null;
    let isCameraActive = false;
    let motionDetectorActive = false;
    let sessionStartTime = null;
    let sessionTimer = null;
    let lastFrame = null;
    let motionHistory = [];
    let repCount = 0;
    let totalMotion = 0;
    let consecutiveMotionFrames = 0;
    let lastRepTime = 0;
    let repCooldown = 1000; // 1 Ø«Ø§Ù†ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª
    let motionThreshold = 30; // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø­Ø±ÙƒØ©
    let exerciseTarget = 20; // Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ

    // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ø±ÙƒØ©
    let motionStats = {
        totalFrames: 0,
        motionFrames: 0,
        maxMotion: 0,
        avgMotion: 0
    };

    // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
    let selectedExercise = null;
    let exercisePatterns = {
        pushups: { name: "ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø¶ØºØ·", target: 20, motionPattern: "vertical" },
        squats: { name: "ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ù‚Ø±ÙØµØ§Ø¡", target: 30, motionPattern: "vertical" },
        plank: { name: "ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ø¨Ù„Ø§Ù†Ùƒ", target: 60, motionPattern: "static" },
        cardio: { name: "ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ÙƒØ§Ø±Ø¯ÙŠÙˆ", target: 10, motionPattern: "fast" },
        abs: { name: "ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø¨Ø·Ù†", target: 25, motionPattern: "situp" },
        stretching: { name: "ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙ…Ø¯Ø¯", target: 5, motionPattern: "slow" }
    };

    // ØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ø­Ø±ÙƒØ©
    let advancedMotionData = {
        formScore: 0,
        consistency: 0,
        intensity: "Ù…Ù†Ø®ÙØ¶",
        pattern: "ØºÙŠØ± Ù…Ø­Ø¯Ø¯",
        movementHistory: []
    };

    // Ù†Ø¸Ø§Ù… Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø¯Ù…
    let workoutHistory = JSON.parse(localStorage.getItem('workoutHistory')) || [];

    // ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
    const motionBuffer = [];
    const BUFFER_SIZE = 5;

    // ============ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ============
    document.addEventListener('DOMContentLoaded', () => {
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ø¬ÙˆØ§Ù„
        initializeMobileMenu();
        
        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        const loggedUser = JSON.parse(localStorage.getItem('loggedInUser'));
        const userInfo = document.getElementById('userInfo');
        const loginBtn = document.getElementById('loginBtn');
        const displayName = document.getElementById('displayName');
        const userAvatar = document.getElementById('userAvatar');

        if (loggedUser) {
            displayName.textContent = loggedUser.username || "Ù…Ø³ØªØ®Ø¯Ù…";
            userAvatar.src = loggedUser.avatar || "default-avatar.png";
            userInfo.style.display = "flex";
            loginBtn.style.display = "none";
        } else {
            userInfo.style.display = "none";
            loginBtn.style.display = "inline-flex";
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
        setTimeout(() => {
            const exercisesSection = document.getElementById('exercisesSection');
            if (exercisesSection) {
                exercisesSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }, 2000);
        
        // ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ: Ø¥Ø¶Ø§ÙØ© event listeners Ù„Ù„Ø£Ø²Ø±Ø§Ø±
        document.querySelectorAll('button, .clickable').forEach(button => {
            button.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.98)';
            });
            
            button.addEventListener('touchend', function() {
                this.style.transform = '';
            });
        });
    });

    // ============ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ============
    async function startCamera() {
        try {
            // Ø·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
            const constraints = {
                video: {
                    width: { ideal: 640 },
                    height: { ideal: 480 },
                    facingMode: 'user',
                    frameRate: { ideal: 30 }
                },
                audio: false
            };

            cameraStream = await navigator.mediaDevices.getUserMedia(constraints);
            const videoElement = document.getElementById('cameraFeed');
            videoElement.srcObject = cameraStream;
            
            videoElement.onloadedmetadata = async () => {
                await videoElement.play();
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù†Ø§Ø¦Ø¨ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                document.getElementById('cameraPlaceholder').style.display = 'none';
                videoElement.style.display = 'block';
                
                isCameraActive = true;
                motionDetectorActive = true;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                document.getElementById('startCamera').style.display = 'none';
                document.getElementById('stopCamera').style.display = 'flex';
                document.getElementById('motionAnalysis').style.display = 'block';
                document.getElementById('repProgress').style.display = 'block';
                
                // Ø¨Ø¯Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©
                startTrainingSession();
                
                // Ø¨Ø¯Ø¡ ÙƒØ´Ù Ø§Ù„Ø­Ø±ÙƒØ©
                startMotionDetection();
                
                showFeedback('âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø­Ø±ÙƒØ© Ø£Ù…Ø§Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§.');
                showAlert('ğŸ”” Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„ÙƒØ´Ù Ø§Ù„Ø­Ø±ÙƒØ©. Ù‚Ù… Ø¨Ø­Ø±ÙƒØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ø¶Ø­Ø©.');
            };
            
        } catch (error) {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§:', error);
            showFeedback('âŒ ØªØ¹Ø°Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§.');
            showAlert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø«Ù… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©.', 'warning');
        }
    }

    function stopCamera() {
        if (cameraStream) {
            cameraStream.getTracks().forEach(track => track.stop());
            cameraStream = null;
        }

        isCameraActive = false;
        motionDetectorActive = false;
        
        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¥Ù„Ù‰ ÙˆØ¶Ø¹Ù‡Ø§ Ø§Ù„Ø£ØµÙ„ÙŠ
        document.getElementById('cameraPlaceholder').style.display = 'flex';
        document.getElementById('cameraFeed').style.display = 'none';
        document.getElementById('startCamera').style.display = 'flex';
        document.getElementById('stopCamera').style.display = 'none';
        document.getElementById('motionAnalysis').style.display = 'none';
        
        // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¬Ù„Ø³Ø©
        stopTrainingSession();
        
        showFeedback('ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©.');
    }

    function resetCounters() {
        repCount = 0;
        totalMotion = 0;
        motionStats = {
            totalFrames: 0,
            motionFrames: 0,
            maxMotion: 0,
            avgMotion: 0
        };
        
        advancedMotionData = {
            formScore: 0,
            consistency: 0,
            intensity: "Ù…Ù†Ø®ÙØ¶",
            pattern: "ØºÙŠØ± Ù…Ø­Ø¯Ø¯",
            movementHistory: []
        };
        
        document.getElementById('repsCount').textContent = '0';
        document.getElementById('accuracyScore').textContent = '0%';
        document.getElementById('caloriesBurned').textContent = '0';
        document.getElementById('motionLevel').textContent = '0%';
        document.getElementById('motionSpeed').textContent = '0';
        document.getElementById('motionArea').textContent = '0%';
        document.getElementById('formScore').textContent = '0%';
        document.getElementById('consistencyScore').textContent = '0%';
        document.getElementById('intensityLevel').textContent = 'Ù…Ù†Ø®ÙØ¶';
        document.getElementById('motionPattern').textContent = '--';
        
        updateProgress();
        showFeedback('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª. Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯!');
        showAlert('ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†. Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯!');
    }

    // ============ ÙƒØ´Ù Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ============
    async function startMotionDetection() {
        if (!isCameraActive) return;
        
        const video = document.getElementById('cameraFeed');
        const canvas = document.getElementById('motionCanvas');
        const ctx = canvas.getContext('2d');
        
        // Ø¶Ø¨Ø· Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        
        let prevFrame = null;
        
        async function detectMotion() {
            if (!motionDetectorActive || !isCameraActive) return;
            
            try {
                // Ø±Ø³Ù… Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                const currentFrame = ctx.getImageData(0, 0, canvas.width, canvas.height);
                
                if (prevFrame) {
                    // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª
                    const motion = calculateFrameDifference(prevFrame, currentFrame);
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                    updateMotionStats(motion);
                    
                    // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª
                    analyzeMotionForReps(motion);
                    
                    // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ØªÙ…Ø±ÙŠÙ† Ù…Ø­Ø¯Ø¯
                    if (selectedExercise) {
                        analyzeAdvancedMotion(motion);
                    }
                    
                    // Ø±Ø³Ù… Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³
                    drawMotionAreas(currentFrame, prevFrame);
                }
                
                // Ø­ÙØ¸ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø³Ø§Ø¨Ù‚Ø©
                prevFrame = currentFrame;
                
                // Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„ØªØ§Ù„ÙŠ
                requestAnimationFrame(detectMotion);
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ÙƒØ´Ù Ø§Ù„Ø­Ø±ÙƒØ©:', error);
                setTimeout(detectMotion, 100);
            }
        }
        
        detectMotion();
    }

    function calculateFrameDifference(frame1, frame2) {
        const width = frame1.width;
        const height = frame1.height;
        const data1 = frame1.data;
        const data2 = frame2.data;
        
        let totalDiff = 0;
        let motionPixels = 0;
        let maxDiff = 0;
        
        // ØªØ­Ù„ÙŠÙ„ ÙƒÙ„ Ø¨ÙƒØ³Ù„
        for (let i = 0; i < data1.length; i += 4) {
            // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ù‚ÙŠÙ… RGB
            const rDiff = Math.abs(data1[i] - data2[i]);
            const gDiff = Math.abs(data1[i + 1] - data2[i + 1]);
            const bDiff = Math.abs(data1[i + 2] - data2[i + 2]);
            
            const diff = (rDiff + gDiff + bDiff) / 3;
            
            if (diff > motionThreshold) {
                motionPixels++;
                totalDiff += diff;
                if (diff > maxDiff) maxDiff = diff;
            }
        }
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ù„Ù„Ø­Ø±ÙƒØ©
        const motionPercentage = (motionPixels / (width * height)) * 100;
        const avgDiff = motionPixels > 0 ? totalDiff / motionPixels : 0;
        
        const result = {
            percentage: motionPercentage,
            pixels: motionPixels,
            averageDiff: avgDiff,
            maxDiff: maxDiff,
            timestamp: Date.now()
        };
        
        // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø¨Ø§ÙØ± Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„Ø³Ø§Ø¡
        addToMotionBuffer(result);
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ù„Ø³Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
        if (motionBuffer.length >= BUFFER_SIZE) {
            const smoothed = getSmoothedMotion();
            if (smoothed) {
                result.percentage = smoothed.percentage;
            }
        }
        
        return result;
    }

    function addToMotionBuffer(motion) {
        motionBuffer.push(motion);
        if (motionBuffer.length > BUFFER_SIZE) {
            motionBuffer.shift();
        }
    }

    function getSmoothedMotion() {
        if (motionBuffer.length === 0) return null;
        
        let total = 0;
        for (const motion of motionBuffer) {
            total += motion.percentage;
        }
        
        return {
            percentage: total / motionBuffer.length,
            smoothed: true
        };
    }

    function updateMotionStats(motion) {
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        motionStats.totalFrames++;
        
        if (motion.percentage > 0.1) {
            motionStats.motionFrames++;
        }
        
        if (motion.percentage > motionStats.maxMotion) {
            motionStats.maxMotion = motion.percentage;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù…ØªÙˆØ³Ø· Ø§Ù„Ø­Ø±ÙƒØ©
        motionStats.avgMotion = (motionStats.avgMotion * (motionStats.totalFrames - 1) + motion.percentage) / motionStats.totalFrames;
        
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        document.getElementById('motionLevel').textContent = motion.percentage.toFixed(1) + '%';
        document.getElementById('motionSpeed').textContent = motion.averageDiff.toFixed(1);
        document.getElementById('motionArea').textContent = ((motion.pixels / (640 * 480)) * 100).toFixed(1) + '%';
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„Ù†Ø´Ø§Ø·
        const activityLevel = Math.min(100, motion.percentage * 3);
        document.getElementById('activityFill').style.width = activityLevel + '%';
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„Ø­Ø±ÙƒØ©
        const indicator = document.getElementById('motionIndicator');
        const status = document.getElementById('motionStatus');
        const details = document.getElementById('motionDetails');
        
        if (motion.percentage > 5) {
            indicator.className = 'motion-indicator active';
            indicator.style.background = '#00ff00';
            status.textContent = 'Ø­Ø±ÙƒØ© Ù†Ø´Ø·Ø©';
            status.style.color = '#00ff00';
            details.textContent = `ÙƒØ´Ù Ø­Ø±ÙƒØ© Ø¨Ù‚ÙˆØ© ${motion.percentage.toFixed(1)}%`;
        } else if (motion.percentage > 1) {
            indicator.className = 'motion-indicator';
            indicator.style.background = '#ffc107';
            status.textContent = 'Ø­Ø±ÙƒØ© Ø®ÙÙŠÙØ©';
            status.style.color = '#ffc107';
            details.textContent = 'Ø­Ø±ÙƒØ© Ø·ÙÙŠÙØ© ÙÙŠ Ø§Ù„Ù…Ø´Ù‡Ø¯';
        } else {
            indicator.className = 'motion-indicator';
            indicator.style.background = '#666';
            status.textContent = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø±ÙƒØ©';
            status.style.color = '#ccc';
            details.textContent = 'ÙŠÙ†ØªØ¸Ø± Ø§ÙƒØªØ´Ø§Ù Ø­Ø±ÙƒØ©...';
        }
    }

    function analyzeMotionForReps(motion) {
        const now = Date.now();
        
        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ø­Ø±ÙƒØ© ÙƒØ§ÙÙŠØ©
        if (motion.percentage > 2) {
            consecutiveMotionFrames++;
            
            // Ø¥Ø°Ø§ Ø§Ø³ØªÙ…Ø±Øª Ø§Ù„Ø­Ø±ÙƒØ© Ù„ÙØªØ±Ø© ÙƒØ§ÙÙŠØ© ÙˆÙƒØ§Ù†Øª Ù‚ÙˆÙŠØ©ØŒ Ø§Ø­Ø³Ø¨Ù‡Ø§ ÙƒØªÙƒØ±Ø§Ø±
            if (consecutiveMotionFrames > 5 && motion.percentage > 3 && (now - lastRepTime) > repCooldown) {
                // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª
                repCount++;
                lastRepTime = now;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù…Ø¹ ØªØ£Ø«ÙŠØ±
                document.getElementById('repsCount').textContent = repCount;
                document.getElementById('repsCount').classList.add('rep-animation');
                setTimeout(() => {
                    document.getElementById('repsCount').classList.remove('rep-animation');
                }, 500);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¯Ù‚Ø©
                const accuracy = calculateAccuracy(motion);
                document.getElementById('accuracyScore').textContent = accuracy + '%';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
                updateProgress();
                
                // Ø¥Ø¸Ù‡Ø§Ø± ØªÙ†Ø¨ÙŠÙ‡
                showAlert(`ğŸ‰ Ø­Ø±ÙƒØ© #${repCount} ØªÙ… Ø§ÙƒØªØ´Ø§ÙÙ‡Ø§! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ‚Ø¯Ù…!`);
                
                // Ø¥Ø¹Ø·Ø§Ø¡ ØªÙˆØ¬ÙŠÙ‡Ø§Øª
                provideMotionFeedback(motion, accuracy);
            }
        } else {
            consecutiveMotionFrames = 0;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø±ÙƒØ©
        totalMotion += motion.percentage;
    }

    function calculateAccuracy(motion) {
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ù‚Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© Ø§Ù„Ø­Ø±ÙƒØ©
        const baseAccuracy = 70;
        const motionBonus = Math.min(30, motion.percentage * 2);
        const consistencyBonus = (motionStats.motionFrames / motionStats.totalFrames) * 20;
        
        return Math.min(100, Math.round(baseAccuracy + motionBonus + consistencyBonus));
    }

    function updateProgress() {
        const progress = (repCount / exerciseTarget) * 100;
        document.getElementById('progressFill').style.width = Math.min(100, progress) + '%';
        document.getElementById('progressText').textContent = Math.round(progress) + '%';
        
        // Ø¥Ø°Ø§ ÙˆØµÙ„ Ù„Ù„Ù‡Ø¯Ù
        if (repCount >= exerciseTarget) {
            showFeedback('ğŸŠ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ù„Ù„Ù‡Ø¯Ù! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†.');
            showAlert('ğŸ† Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø§Ù„Ù‡Ø¯Ù Ø¨Ù†Ø¬Ø§Ø­! Ø£Ø­Ø³Ù†Øª Ø§Ù„Ø¹Ù…Ù„!');
        }
    }

    function provideMotionFeedback(motion, accuracy) {
        let feedback = '';
        
        if (motion.percentage > 10) {
            feedback = 'ğŸ’ª Ø­Ø±ÙƒØ© Ù‚ÙˆÙŠØ©! Ù‡Ø°Ø§ Ù…Ù…ØªØ§Ø² Ù„Ù„Ø¹Ø¶Ù„Ø§Øª';
        } else if (motion.percentage > 5) {
            feedback = 'ğŸ‘ Ø­Ø±ÙƒØ© Ø¬ÙŠØ¯Ø©! Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰';
        } else {
            feedback = 'ğŸ” Ø­Ø±ÙƒØ© Ø®ÙÙŠÙØ©ØŒ Ø­Ø§ÙˆÙ„ ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø­Ø±ÙƒØ© Ù‚Ù„ÙŠÙ„Ø§Ù‹';
        }
        
        if (accuracy > 90) {
            feedback += '<br>ğŸ¯ Ø¯Ù‚ØªÙƒ Ù…Ù…ØªØ§Ø²Ø©!';
        } else if (accuracy > 70) {
            feedback += '<br>âœ… Ø¯Ù‚Ø© Ø¬ÙŠØ¯Ø©ØŒ Ø§Ø³ØªÙ…Ø±!';
        } else {
            feedback += '<br>âš ï¸ Ø­Ø§ÙˆÙ„ ØªØ­Ø³ÙŠÙ† Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ©';
        }
        
        // Ø¥Ø¶Ø§ÙØ© ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø¯Ø±Ø¨ Ø§Ù„Ø°ÙƒÙŠ
        feedback += `
            <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(0,190,159,0.3); font-size: 0.8rem; color: #00be9f;">
                <i class="fas fa-robot"></i> Ø§Ù„Ù…Ø¯Ø±Ø¨ Ø§Ù„Ø°ÙƒÙŠ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ø³Ø³ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
            </div>
        `;
        
        showFeedback(feedback);
    }

    function drawMotionAreas(currentFrame, prevFrame) {
        const canvas = document.getElementById('motionCanvas');
        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;
        
        // Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ù„Ù„Ø­Ø±ÙƒØ©
        const motionImage = ctx.createImageData(width, height);
        const data1 = prevFrame.data;
        const data2 = currentFrame.data;
        const motionData = motionImage.data;
        
        // Ø±Ø³Ù… Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø­Ø±ÙƒØ©
        for (let i = 0; i < data1.length; i += 4) {
            const rDiff = Math.abs(data1[i] - data2[i]);
            const gDiff = Math.abs(data1[i + 1] - data2[i + 1]);
            const bDiff = Math.abs(data1[i + 2] - data2[i + 2]);
            const diff = (rDiff + gDiff + bDiff) / 3;
            
            if (diff > motionThreshold) {
                // Ø±Ø³Ù… Ø§Ù„Ø­Ø±ÙƒØ© Ø¨Ø§Ù„Ø£Ø­Ù…Ø±
                motionData[i] = 255;     // R
                motionData[i + 1] = 0;   // G
                motionData[i + 2] = 0;   // B
                motionData[i + 3] = 100; // A
            } else {
                // Ø´ÙØ§ÙÙŠØ©
                motionData[i] = 0;
                motionData[i + 1] = 0;
                motionData[i + 2] = 0;
                motionData[i + 3] = 0;
            }
        }
        
        // Ø±Ø³Ù… Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³
        ctx.putImageData(motionImage, 0, 0);
    }

    // ============ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ============
    function selectExercise(exerciseId) {
        selectedExercise = exerciseId;
        const exercise = exercisePatterns[exerciseId];
        
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯
        document.querySelectorAll('.exercise-card').forEach(card => {
            card.classList.remove('active');
        });
        event.currentTarget.classList.add('active');
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡Ø¯Ù
        exerciseTarget = exercise.target;
        
        // Ø¥Ø¸Ù‡Ø§Ø± ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„ØªÙ…Ø±ÙŠÙ†
        showFeedback(`
            <strong>ğŸ¯ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${exercise.name}</strong><br>
            <span style="color: #00ffcc;">Ø§Ù„Ù‡Ø¯Ù: ${exercise.target} ØªÙƒØ±Ø§Ø±/Ø«Ø§Ù†ÙŠØ©</span><br>
            <span style="color: #ccc; font-size: 0.9rem;">Ù‚Ù Ø£Ù…Ø§Ù… Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</span>
        `);
        
        // Ø¥Ø¸Ù‡Ø§Ø± ØªÙ†Ø¨ÙŠÙ‡
        showAlert(`ğŸ‹ï¸ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${exercise.name}. Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡!`);
    }

    // ============ Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ============
    function startTrainingSession() {
        sessionStartTime = Date.now();
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        repCount = 0;
        totalMotion = 0;
        motionStats = {
            totalFrames: 0,
            motionFrames: 0,
            maxMotion: 0,
            avgMotion: 0
        };
        
        document.getElementById('repsCount').textContent = '0';
        document.getElementById('accuracyScore').textContent = '0%';
        document.getElementById('caloriesBurned').textContent = '0';
        document.getElementById('sessionTime').textContent = '00:00';
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
        sessionTimer = setInterval(() => {
            const elapsed = Math.floor((Date.now() - sessionStartTime) / 1000);
            const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
            const seconds = (elapsed % 60).toString().padStart(2, '0');
            document.getElementById('sessionTime').textContent = `${minutes}:${seconds}`;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±ÙƒØ©
            const calories = Math.floor((totalMotion * 0.01) + (repCount * 0.5));
            document.getElementById('caloriesBurned').textContent = calories;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡Ø¯Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ø¹ Ø§Ù„ÙˆÙ‚Øª
            if (elapsed > 60) {
                exerciseTarget = 30;
            } else if (elapsed > 30) {
                exerciseTarget = 25;
            }
            
            updateProgress();
        }, 1000);
    }

    function stopTrainingSession() {
        if (sessionTimer) {
            clearInterval(sessionTimer);
            sessionTimer = null;
        }
    }

    // ============ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ============
    function showFeedback(message) {
        const feedbackElement = document.getElementById('feedbackMessage');
        feedbackElement.innerHTML = message;
    }

    function showAlert(message, type = 'success') {
        const alertElement = document.getElementById('exerciseAlert');
        const messageElement = document.getElementById('alertMessage');
        
        messageElement.innerHTML = message;
        alertElement.className = `alert alert-${type}`;
        alertElement.style.display = 'block';
        
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†ÙŠ
        setTimeout(() => {
            alertElement.style.display = 'none';
        }, 5000);
    }

    // ============ Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ============
    function logout() {
        localStorage.removeItem('loggedInUser');
        window.location.reload();
    }

    function redirectToLogin() {
        window.location.href = "login.html";
    }

    // ============ Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ ============
    window.addEventListener('beforeunload', () => {
        if (cameraStream) {
            cameraStream.getTracks().forEach(track => track.stop());
        }
        
        // Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø¯Ù…
        if (repCount > 0) {
            const progress = {
                reps: repCount,
                accuracy: document.getElementById('accuracyScore').textContent,
                time: document.getElementById('sessionTime').textContent,
                date: new Date().toISOString()
            };
            localStorage.setItem('lastWorkout', JSON.stringify(progress));
        }
    });
</script>
</body>
</html>